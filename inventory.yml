#####################
# Groupnames cannot contain '-'. We use '_' instead
#
#
#
#####################

all:
  ###
  # Common vars for all the hosts
  ###
  vars:
    # Default connection - DON'T change here. For ipv6/name overwrite on the host level
    ansible_host: "{{ ipv4 }}"

    # The accounts used by the blue team
    user:
    - name: "ls22"
      pass: "Blu3T3@mR00+"
      # (Linux) If manual hash is used do not forget to update hash:  mkpasswd -m sha-512 <password>
      hash: "$6$zG6M4T8nICeO7$9/HDn3d8llIlSL6pXeEjkf3AvFkebp2bhYi9Fvnf4ugMNwjC2AwkQZz8LDWD.IKm7TQ7s5S3oEkDKBVScky2o0"
      #hash: "{{ user[0].pass | password_hash('sha512') }}"
      sudo: yes
      srvc: no
    - name: "bt22"
      pass: "Blu3T3@mU5er"
      # (Windows) If manual hash is used do not forget to update hash : python3 -c 'import crypt; print(crypt.crypt("PASSWORD", crypt.mksalt(crypt.METHOD_SHA512)))'
      hash: "$6$2oUgDXbF4l64gm$mgrT84z8MEkntiF7OWAbOQqQ6ERRytameswxMWPoWsBOQ0UeTPrLCdvciyr3GmeJlW84J.QD9xj7gG0Jh4BQD1"
      #hash: "{{ user[1].pass | password_hash('sha512') }}"
      sudo: no
      srvc: yes

    # User name with which to login to the remote server
    ansible_user: "{{ user[0].name }}"
    ansible_ssh_pass: "{{ user[0].pass }}"
    ansible_become_password: "{{ user[0].pass }}"
    ansible_ssh_private_key: ~/.ssh/id_rsa
    ansible_ssh_public_key: ~/.ssh/id_rsa.pub
    become: yes
    become_user: root
    become_method: sudo
    # Path to private key file to use for authentication
    #private_key_file:
    # Host key check - -o StrictHostKeyChecking=
    host_key_checking: yes
    # Numbers of retries (default 3)
    retries: 5
    # force tty allocation, rather not needed for LS
    #use_tty: yes
    # Extra SSH args - for ex. -A for agent forwarding if needed to jump via hosts
    ansible_ssh_extra_args: "-o StrictHostKeyChecking=accept-new"

    # Localhost folder structure
    files_dir: "{{ inventory_dir }}/files"
    recon_dir: "{{ files_dir }}/recce"
    host_recon_dir: "{{ recon_dir }}/{{ inventory_hostname }}"

    # remote directory
    remote_dir: "/var/tmp/ansible_files"

    harmless_users:
    - gt
    - greenteam
    - scoringbot
    - sync

    harmless_shells:
    - ''
    - '/bin/false'
    - '/usr/bin/false'
    - '/bin/nologin'
    - '/sbin/nologin'
    - '/usr/sbin/nologin'

    shell_exceptions:
    - 'sync'
   
    admin_ip:
    - '10.17.60.0/23'
    - '2a07:1182:17:6000::0/64'
    
    syslog_srv:
    - '10.17.59.2:514'
    
  children:
###
# BEG - Berylian Energy Group
###
    beg:
      vars:
        lan4_mask: 21
        lan4_net: 10.17.0.0
        lan6_mask: 62
        lan6_net: 2a07:1182:17::0
        dmz4_mask: 24
        dmz4_net: 100.96.17.0
        dmz6_mask: 64
        dmz6_net: 2a07:1182:17::0
        domain_name: beg.17.berylia.org
        vpn_mask: 23
        vpn_net: 10.17.60.0
        vpn6_mask: 64
        vpn6_net: 2a07:1182:17:6000::0
        domain_users:
        - diaxiristis        
        realm: "BEG"
        initial_pass: "diaxiristis"        
      children:

# BEG - power substation
        begsub:
          vars:
            ipv4_mask: 24
            ipv4_gw: 10.17.5.1
            ipv6_mask: 0
            ipv6_gw: 0
          hosts:
            sicamgridedge_beg:
              ipv4: 10.17.5.30
              ipv6: 0
              fqdn: sicamgridedge.spectrum.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: ws

# BEG - power plant
        begpower:
          vars:
            ipv4_mask: 24
            ipv4_gw: 10.17.3.1
            ipv6_mask: 0
            ipv6_gw: 0
          hosts:
            historian_beg:
              ipv4: 10.17.3.6
              ipv6: 0
              fqdn: historian-powerplant.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,syslog,web

# BEG - dmz
        begdmz:
          vars:
            ipv4_mask: 24
            ipv4_gw: 100.96.17.1
            ipv6_mask: 64
            ipv6_gw: 2a07:1182:17::1
          hosts:
            ns1_beg:
              ipv4: 100.96.17.2
              ipv6: 2a07:1182:17::2
              fqdn: ns1.beg.17.berylia.org
              iface: eth0
              os: debian
              ver: 11
              roles: server,dns
            ns2_beg:
              ipv4: 100.96.17.3
              ipv6: 2a07:1182:17::3
              fqdn: ns2.beg.17.berylia.org
              iface: eth0
              os: debian
              ver: 10
              roles: server,dns
            inventory_beg:
              ipv4: 100.96.17.4
              ipv6: 2a07:1182:17::4
              fqdn: inventory.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,sql
            maintenance_beg:
              ipv4: 100.96.17.10
              ipv6: 2a07:1182:17::10
              fqdn: maintenance.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,web
            files_beg:
              ipv4: 100.96.17.8
              ipv6: 2a07:1182:17::8
              fqdn: files-beg.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,web
#            k8s_api_beg:  EXPO designated as none Virtual IP (controller)
#              ipv4: 100.96.17.11
#              ipv6: 2a07:1182:17::11
#              fqdn: k8s-api.beg.17.berylia.org
#              iface: eth0
#              os: ubuntu
#              ver: 20
#              roles: server,web
#            k8s_services_beg: EXPO designated as none Virtual IP (workers)
#              ipv4: 100.96.17.12
#              ipv6: 2a07:1182:17::12
#              fqdn: k8s-services.beg.17.berylia.org
#              iface: eth0
#              os: ubuntu
#              ver: 20
#              roles: server,web
            k8s_worker1_beg:
              ipv4: 100.96.17.31
              ipv6: 2a07:1182:17::31
              fqdn: k8s-worker01.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,k8swork
            k8s_worker2_beg:
              ipv4: 100.96.17.32
              ipv6: 2a07:1182:17::32
              fqdn: k8s-worker02.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,k8swork
            k8s_worker3_beg:
              ipv4: 100.96.17.33
              ipv6: 2a07:1182:17::33
              fqdn: k8s-worker03.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,k8swork
            k8s_controller1_beg:
              ipv4: 100.96.17.41
              ipv6: 2a07:1182:17::41
              fqdn: k8s-controller01.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,k8sctr
            k8s_controller2_beg:
              ipv4: 100.96.17.42
              ipv6: 2a07:1182:17::42
              fqdn: k8s-controller02.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,k8sctr
            k8s_controller3_beg:
              ipv4: 100.96.17.43
              ipv6: 2a07:1182:17::43
              fqdn: k8s-controller03.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,k8sctr

# BEG - internal network
        begint:
          vars:
            ipv4_mask: 24
            ipv4_gw: 10.17.1.1
            ipv6_mask: 64
            ipv6_gw: 2a07:1182:17:1::1
          hosts:
            salt_master_beg:
              ipv4: 10.17.1.5
              ipv6: 2a07:1182:17:1::5
              fqdn: salt-master.int.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server
            ws31_beg:
              ipv4: 10.17.1.31
              ipv6: 2a07:1182:17:1::31
              fqdn: ws3-beg01.int.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: ws
            ws32_beg:
              ipv4: 10.17.1.32
              ipv6: 2a07:1182:17:1::32
              fqdn: ws3-beg02.int.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: ws
            ws33_beg:
              ipv4: 10.17.1.33
              ipv6: 2a07:1182:17:1::33
              fqdn: ws3-beg03.int.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: ws
            ws34_beg:
              ipv4: 10.17.1.34
              ipv6: 2a07:1182:17:1::34
              fqdn: ws3-beg04.int.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: ws
            ws35_beg:
              ipv4: 10.17.1.35
              ipv6: 2a07:1182:17:1::32
              fqdn: ws3-beg05.int.beg.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: ws
            ws41_beg:
              ipv4: 10.17.1.36
              ipv6: 2a07:1182:17:1::36
              fqdn: ws4-beg01.int.beg.17.berylia.org
              iface: eth0
              os: freebsd
              ver: 12
              roles: ws
            ws42_beg:
              ipv4: 10.17.1.37
              ipv6: 2a07:1182:17:1::37
              fqdn: ws4-beg02.int.beg.17.berylia.org
              iface: eth0
              os: freebsd
              ver: 12
              roles: ws
            ws43_beg:
              ipv4: 10.17.1.38
              ipv6: 2a07:1182:17:1::38
              fqdn: ws4-beg03.int.beg.17.berylia.org
              iface: eth0
              os: freebsd
              ver: 12
              roles: ws
            ws44_beg:
              ipv4: 10.17.1.39
              ipv6: 2a07:1182:17:1::39
              fqdn: ws4-beg04.int.beg.17.berylia.org
              iface: eth0
              os: freebsd
              ver: 12
              roles: ws
            ws45_beg:
              ipv4: 10.17.1.40
              ipv6: 2a07:1182:17:1::40
              fqdn: ws4-beg05.int.beg.17.berylia.org
              iface: eth0
              os: freebsd
              ver: 12
              roles: ws

###
# BAF - Berylian Armed Forces
###
    baf:
      vars:
        lan4_mask: 20
        lan4_net: 10.17.8.0
        lan6_mask: 55
        lan6_net: 2a07:1182:17:1000::0
        dmz4_mask: 26
        dmz4_net: 100.97.17.0
        dmz6_mask: 64
        dmz6_net: 2a07:1182:17:1000::0
        domain_name: baf.17.berylia.mil
        domain_users:
        - diaxiristis        
        realm: "BAF"
        initial_pass: "diaxiristis"        
      children:

# BAF - Air Defense System
        bafads:
          vars:
            ipv4_mask: 24
            ipv4_gw: 10.17.9.1
            ipv6_mask: 64
            ipv6_gw: 2a07:1182:17:1004::1
          hosts:
            mil_ads_baf:
              ipv4: 10.17.9.31
              ipv6: 2a07:1182:17:1004::31
              fqdn: mil-ads.baf.17.berylia.org
              iface: eth0
              os: almalinux
              ver: 8
              roles: server
            c4i_ads_baf:
              ipv4: 10.17.9.32
              ipv6: 2a07:1182:17:1004::32
              fqdn: c4i-ads.baf.17.berylia.org
              iface: eth0
              os: almalinux
              ver: 8
              roles: server
            map_ads_baf:
              ipv4: 10.17.9.34
              ipv6: 2a07:1182:17:1004::36
              fqdn: map-ads.baf.17.berylia.org
              iface: eth0
              os: almalinux
              ver: 8
              roles: server,web

# BAF - Core Network
        bafcore:
          vars:
            ipv4_mask: 25
            ipv4_gw: 10.17.11.1
            ipv6_mask: 64
            ipv6_gw: 2a07:1182:17:1002::1
          hosts:
            5gcn_nrf_baf:
              ipv4: 10.17.11.30
              ipv6: 2a07:1182:17:1002::30
              fqdn: 5gcn-nrf.sac.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server
            5gcn_db_baf:
              ipv4: 10.17.11.31
              ipv6: 2a07:1182:17:1002::31
              fqdn: 5gcn-db.sac.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,sql
            5gcn_amf_baf:
              ipv4: 10.17.11.32
              ipv6: 2a07:1182:17:1002::32
              fqdn: 5gcn-amf.sac.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,gw
            5gcn_smf_baf:
              ipv4: 10.17.11.33
              ipv6: 2a07:1182:17:1002::33
              fqdn: 5gcn-smf.sac.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server
            5gcn_upf_baf:
              ipv4: 10.17.11.34
              ipv6: 2a07:1182:17:1002::34
              fqdn: 5gcn-upf.sac.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,gw
            5gcn_pcf_baf:
              ipv4: 10.17.11.35
              ipv6: 2a07:1182:17:1002::35
              fqdn: 5gcn-pcf.sac.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server
            5gcn_udr_baf:
              ipv4: 10.17.11.36
              ipv6: 2a07:1182:17:1002::36
              fqdn: 5gcn-udr.sac.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server
            5gcn_udm_baf:
              ipv4: 10.17.11.37
              ipv6: 2a07:1182:17:1002::37
              fqdn: 5gcn-udm.sac.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server
            5gcn_ausf_baf:
              ipv4: 10.17.11.38
              ipv6: 2a07:1182:17:1002::38
              fqdn: 5gcn-amf.sac.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server
            5gcn_nssf_baf:
              ipv4: 10.17.11.39
              ipv6: 2a07:1182:17:1002::39
              fqdn: 5gcn-nssf.sac.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server
            5gcn_bsf_baf:
              ipv4: 10.17.11.40
              ipv6: 2a07:1182:17:1002::40
              fqdn: 5gcn-bsf.sac.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server
            5gcn_webui_baf:
              ipv4: 10.17.11.66
              ipv6: 2a07:1182:17:1002::66
              fqdn: 5gcn-webui.sac.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server

# BAF - Radio Access Network Auxiliary
#        bafaux:
#          vars:
#            ipv4_mask: 24
#            ipv4_gw: 10.17.13.1
#            ipv6_mask: 64
#            ipv6_gw: 2a07:1182:17:1008::1
#          hosts:
#            5gaux_upf_baf:
#              ipv4: 10.17.13.3
#              ipv6: 2a07:1182:17:1008::3
#              iface: eth0.2
#              os: ubuntu
#              ver: 20
#              roles: iface

# BAF - DMZ
        bafdmz:
          vars:
            ipv4_mask: 26
            ipv4_gw: 100.97.17.1
            ipv6_mask: 64
            ipv6_gw: 2a07:1182:17:1000::1
          hosts:
            ns1_baf:
              ipv4: 100.97.17.2
              ipv6: 2a07:1182:17:1000::2
              fqdn: ns1.baf.17.berylia.org
              iface: eth0
              os: freebsd
              ver: 12
              roles: server,dns
            ns2_baf:
              ipv4: 100.97.17.3
              ipv6: 2a07:1182:17:1000::3
              fqdn: ns2.baf.17.berylia.org
              iface: eth0
              os: freebsd
              ver: 12
              roles: server,dns
            av_baf:
              ipv4: 100.97.17.10
              ipv6: 2a07:1182:17:1000::10
              fqdn: av.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,web
            service_portal_baf:
              ipv4: 100.97.17.16
              ipv6: 2a07:1182:17:1000::16
              fqdn: service-portal.baf.17.berylia.org
              iface: eth0
              os: freebsd
              ver: 12
              roles: server,web
            borderguard_baf:
              ipv4: 100.97.17.17
              ipv6: 2a07:1182:17:1000::17
              fqdn: borderguard.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server
            tvs_baf:
              ipv4: 100.97.17.51
              ipv6: 2a07:1182:17:1000::51
              fqdn: tvs.baf.17.berylia.org
              iface: eth0
              os: debian
              ver: 11
              roles: server
            fossil_baf:
              ipv4: 100.97.17.59
              ipv6: 2a07:1182:17:1000::59
              fqdn: fossil.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,web
            passengers_baf:
              ipv4: 100.97.17.60
              ipv6: 2a07:1182:17:1000::60
              fqdn: passengers.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,web
            recruitment_baf:
              ipv4: 100.97.17.61
              ipv6: 2a07:1182:17:1000::61
              fqdn: recruitment.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,web,joomla

# BAF - Internal Network
        bafint:
          vars:
            ipv4_mask: 24
            ipv4_gw: 10.17.8.1
            ipv6_mask: 64
            ipv6_gw: 2a07:1182:17:1001::1
          hosts:
            hq_gsc_baf:
              ipv4: 10.17.8.77
              ipv6: 2a07:1182:17:1001::51
              fqdn: hq-gsc.int.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server
            ws31_baf:
              ipv4: 10.17.8.41
              ipv6: 2a07:1182:17:1001::41
              fqdn: ws3-baf01.int.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: ws
            ws32_baf:
              ipv4: 10.17.8.42
              ipv6: 2a07:1182:17:1001::42
              fqdn: ws3-baf02.int.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: ws
            ws33_baf:
              ipv4: 10.17.8.43
              ipv6: 2a07:1182:17:1001::43
              fqdn: ws3-baf03.int.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: ws
            ws34_baf:
              ipv4: 10.17.8.44
              ipv6: 2a07:1182:17:1001::44
              fqdn: ws3-baf04.int.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: ws
            ws35_baf:
              ipv4: 10.17.8.45
              ipv6: 2a07:1182:17:1001::45
              fqdn: ws3-baf05.int.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: ws
            mcs_baf:
              ipv4: 10.17.8.78
              ipv6: 2a07:1182:17:1001::50
              fqdn: mcs.int.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server

# BAF - Border Guard
        bafbg:
          vars:
            ipv4_mask: 24
            ipv4_gw: 10.17.12.1
            ipv6_mask: 64
            ipv6_gw: 2a07:1182:17:1100::1
          hosts:
            reports_baf:
              ipv4: 10.17.12.2
              ipv6: 2a07:1182:17:1100::2
              fqdn: baf-reports.int.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,web
            bg_gsc_baf:
              ipv4: 10.17.12.64
              ipv6: 2a07:1182:17:1100::fe
              fqdn: bg-gsc.int.baf.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server

###
# BOB - Bank of Berylia
###
    bob:
      vars:
        lan4_mask: 23
        lan4_net: 10.17.16.0
        lan6_mask: 62
        lan6_net: 2a07:1182:17:2000::0
        dmz4_mask: 26
        dmz4_net: 100.98.17.0
        dmz6_mask: 64
        dmz6_net: 2a07:1182:17:2000::0
        domain_name: bob.17.berylia.com
        domain_users:
        - diaxiristis        
        realm: "BOB"
        initial_pass: "diaxiristis"        
      children:

# BOB - Remote Services
        bobrms:
          vars:
            ipv4_mask: 24
            ipv4_gw: 10.17.17.1
            ipv6_mask: 64
            ipv6_gw: 2a07:1182:17:2002::1
          hosts:
            rms_bob:
              ipv4: 10.17.17.11
              ipv6: 2a07:1182:17:2002::11
              fqdn: rms.bob.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,web
            mp_match_bob:
              ipv4: 10.17.17.12
              ipv6: 2a07:1182:17:2002::12
              fqdn: mp-match.bob.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server


# BOB - Remote Services
        bobdmz:
          vars:
            ipv4_mask: 24
            ipv4_gw: 100.98.17.1
            ipv6_mask: 64
            ipv6_gw: 2a07:1182:17:2000::1
          hosts:
            www_bob:
              ipv4: 100.98.17.4
              ipv6: 2a07:1182:17:2000::4
              fqdn: www.bob.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,web
            helpdesk_bob:
              ipv4: 10.17.17.13
              ipv6: 2a07:1182:17:2002::13
              fqdn: helpdesk.bob.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,web
            hermes_bob:
              ipv4: 10.17.17.11
              ipv6: 2a07:1182:17:2002::11
              fqdn: hermes.bob.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,mail


# BOB - Internal Network
        bobint:
          vars:
            ipv4_mask: 24
            ipv4_gw: 10.17.16.1
            ipv6_mask: 64
            ipv6_gw: 2a07:1182:17:2001::1
          hosts:
            siem_bob:
              ipv4: 10.17.16.42
              ipv6: 2a07:1182:17:2001::42
              fqdn: siem.int.bob.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 18
              roles: server,web

# BOB - VPN network
        bobvpn:
          vars:
            ipv4_mask: 24
            ipv4_gw: 100.96.0.1
            ipv6_mask: 64
            ipv6_gw: 2a07:1182::1
          hosts:
            sinet_bob:
              ipv4: 100.96.0.27
              ipv6: 2a07:1182::27
              fqdn: sinet17.bt.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: ws


###
# JIV - Janford Institute of Virology
###
    jiv:
      vars:
        lan4_mask: 24
        lan4_net: 10.17.32.0
        lan6_mask: 63
        lan6_net: 2a07:1182:17:4000::0
        dmz4_mask: 27
        dmz4_net: 100.98.17.128
        dmz6_mask: 64
        dmz6_net: 2a07:1182:17:4000::0
        domain_name: jiv.17.berylia.org
        domain_users:
        - diaxiristis
        realm: "JIV"
        initial_pass: "diaxiristis"        
      children:

# JIV - DMZ
        bobdmz:
          vars:
            ipv4_mask: 27
            ipv4_gw: 100.98.17.129
            ipv6_mask: 64
            ipv6_gw: 2a07:1182:17:4000::1
          hosts:
            www_jiv:
              ipv4: 100.98.17.130
              ipv6: 2a07:1182:17:2002::130
              fqdn: www.jiv.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,web
            blog_jiv:
              ipv4: 100.98.17.131
              ipv6: 2a07:1182:17:2002::131
              fqdn: blog.jiv.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,web
            lims_jiv:
              ipv4: 100.98.17.132
              ipv6: 2a07:1182:17:2002::132
              fqdn: lims.jiv.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,web
            research_jiv:
              ipv4: 100.98.17.134
              ipv6: 2a07:1182:17:2002::134
              fqdn: research.jiv.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,web

# JIV - Internal Network
        jivint:
          vars:
            ipv4_mask: 24
            ipv4_gw: 10.17.32.0
            ipv6_mask: 64
            ipv6_gw: 2a07:1182:17:4001::1
          hosts:
            dc_jiv:
              ipv4: 10.17.32.2
              ipv6: 2a07:1182:17:4001::2
              fqdn: dc-jiv.jiv.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server.ldap
            ws1_jiv:
              ipv4: 10.17.32.21
              ipv6: 2a07:1182:17:4001::21
              fqdn: ws-jiv01.jiv.17.berylia.org
              iface: eth0
              os: scientific
              ver: 7
              roles: ws
            ws2_jiv:
              ipv4: 10.17.32.22
              ipv6: 2a07:1182:17:4001::22
              fqdn: ws-jiv02.jiv.17.berylia.org
              iface: eth0
              os: scientific
              ver: 7
              roles: ws
            ws3_jiv:
              ipv4: 10.17.32.23
              ipv6: 2a07:1182:17:4001::23
              fqdn: ws-jiv03.jiv.17.berylia.org
              iface: eth0
              os: scientific
              ver: 7
              roles: ws
            ws4_jiv:
              ipv4: 10.17.32.24
              ipv6: 2a07:1182:17:4001::24
              fqdn: ws-jiv04.jiv.17.berylia.org
              iface: eth0
              os: scientific
              ver: 7
              roles: ws
            ws5_jiv:
              ipv4: 10.17.32.25
              ipv6: 2a07:1182:17:4001::25
              fqdn: ws-jiv05.jiv.17.berylia.org
              iface: eth0
              os: scientific
              ver: 7
              roles: ws

###
# KWT - Klein Water Technologies
###
    kwt:
      vars:
        lan4_mask: 22
        lan4_net: 10.17.24.0
        lan6_mask: 63
        lan6_net: 2a07:1182:17:3000::0
        dmz4_mask: 0
        dmz4_net: 100.98.17.128
        dmz6_mask: 64
        dmz6_net: 2a07:1182:17:4000::0
        domain_name: kwt.17.berylia.com
        domain_users:
        - diaxiristis        
        realm: "KWT"
        initial_pass: "diaxiristis"        
      children:

# KWT - scada
        kwtscada:
          vars:
            ipv4_mask: 24
            ipv4_gw: 10.17.25.0
            ipv6_mask: 64
            ipv6_gw: 2a07:1182:17:3001::1
          hosts:
            historian_kwt:
              ipv4: 10.17.25.100
              ipv6: 2a07:1182:17:3001::100
              fqdn: water-bt-historian.kwt.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server,syslog,web
            scada_kwt:
              ipv4: 10.17.25.200
              ipv6: 2a07:1182:17:3001::200
              fqdn: water-bt-scada.kwt.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server
            mt_kwt:
              ipv4: 10.17.25.201
              ipv6: 2a07:1182:17:3001::201
              fqdn: water-bt-mt.kwt.17.berylia.org
              iface: eth0
              os: ubuntu
              ver: 20
              roles: ws


###
# Testbeds
###
    testbed:
      vars:
        dmz4_mask: 0
        dmz4_net: 0
        dmz6_mask: 0
        dmz6_net: 0
      children:
        testbed1:
          vars:
            ipv4_mask: 24
            ipv4_gw: 172.16.1.226
            ipv6_mask: 0
            ipv6_gw: 0
            domain_name: testbed
            domain_users:
            - ls1        
            - ls2        
            - ls3        
            - ls4        
            initial_pass: "LockShields"
          hosts:
            fbsd:
              root_pass: "LockShields"
              ipv4: 172.16.1.227
              ipv6: 0
              iface: eth0
              os: freebsd
              ver: 12
              roles: server
            ubu1:
              ipv4: 172.16.1.228
              ipv6: 0
              iface: eth0
              os: ubuntu
              ver: 20
              roles: server
          

###
# SERVERS
###
    servers:
      hosts:
        5gcn_bsf_baf:
        5gcn_gui_baf:

###
# WORKSTATIONS
###
    workstations:
      hosts:
        ws41_beg:
        ws42_beg:


    linux:
      vars:
        sudo_group: wheel
        os_shell_path: /bin/bash

      children:
###
# REDHAT
###
        redhat:
          children:
            almalinux:
              children:
# Almalinux OS 8
                almalinux8:
                  hosts:
                    c4i_ads_baf:
                    map_ads_baf:
                    mil_ads_baf:
            scientific:
              children:
# Scientific Linux SL 7
                scientific7:
                  hosts:
                    ws1_jiv:
                    ws2_jiv:
                    ws3_jiv:
                    ws4_jiv:
                    ws5_jiv:

###
# DEBIAN
###
        deb:
          vars:
            sudo_group: sudo
          children:
            debian:
              children:
# DEBIAN 10 Buster
                debian10:
                  hosts:
                    ns2_beg:
# DEBIAN 11 Bullseye
                debian11:
                  hosts:
                    ns1_beg:
                    tvs_baf:

            ubuntu:
              children:
# UBUNTU 20.04 Bionic Beaver
                ubuntu18:
                    siem_bob:
# UBUNTU 20.04 Focal Fossa
                ubuntu20:
                  hosts:
                    5gaux_upf_baf:
                    5gcn_amf_baf:
                    5gcn_ausf_baf:
                    5gcn_bsf_baf:
                    5gcn_db_baf:
                    5gcn_nrf_baf:
                    5gcn_nssf_baf:
                    5gcn_pcf_baf:
                    5gcn_smf_baf:
                    5gcn_udm_baf:
                    5gcn_udr_baf:
                    5gcn_upf_baf:
                    5gcn_webui_baf:
                    av_baf:
                    bg_gsc_baf:
                    blog_jiv:
                    borderguard_baf:
                    dc_jiv:
                    files_beg:
                    fossil_baf:
                    helpdesk_bob:
                    hermes_bob:
                    historian_beg:
                    historian_kwt:
                    hosts:
                    hq_gsc_baf:
                    inventory_beg:
                    k8s_controller1_beg:
                    k8s_controller2_beg:
                    k8s_controller3_beg:
                    k8s_worker1_beg:
                    k8s_worker2_beg:
                    k8s_worker3_beg:
                    lims_jiv:
                    maintenance_beg:
                    mcs_baf:
                    mp_match_bob:
                    mt_kwt:
                    passengers_baf:
                    recruitment_baf:
                    reports_baf:
                    research_jiv:
                    rms_bob:
                    salt_master_beg:
                    scada_kwt:
                    sicamgridedge_beg:
                    sinet_bob:
                    ws31_baf:
                    ws31_beg:
                    ws32_baf:
                    ws32_beg:
                    ws33_baf:
                    ws33_beg:
                    ws34_baf:
                    ws34_beg:
                    ws35_baf:
                    ws35_beg:
                    www_bob:
                    www_jiv:
                    ubu1:


###
# BSD
###
    bsd:
      vars:
        sudo_group: wheel
        os_shell_path: /bin/csh
      children:
        freebsd:
          children:
# FreeBSD 12
            freebsd12:
              hosts:
                ns1_baf:
                ns2_baf:
                service_portal_baf:
                ws41_beg:
                ws42_beg:
                ws43_beg:
                ws44_beg:
                ws45_beg:
                fbsd:

###
# Apache
###
    apache:
      vars:
        hardenwebserver_apache_modsecurity_engine: 'DetectionOnly'
        hardenwebserver_disable_http: true
        hardenwebserver_remove_defaultindex: false
        hardenwebserver_proxy_redhat_selinux_allow: false
        hardenwebserver_block_downloadagents: false #curl, wget, perl...
        hardenwebserver_cachecontrol: false
        hardenwebserver_bind: '' # hardenwebserver_bind: 192.168.1.1  (support only this interface)
        harden_apache_extra_ports: []
        hardenwebserver_cert: selfsigned
        hardenwebserver_enable_defaultssl: true
        hardenwebserver_header_csp: "default-src 'self'; script-src 'self' 'unsafe-inline'; connect-src 'self'; img-src 'self'; style-src 'self' 'unsafe-inline'; object-src 'self'; upgrade-insecure-requests; report-uri /csp/report.php"
        harden_apache_php_enable: true
        harden_php_date_timezone: UTC
        harden_php_expose_php: 'Off'
        harden_php_allow_url_fopen: 'Off'
        harden_php_disable_functions: 'pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,chown,diskfreespace,disk_free_space,disk_total_space,dl,exec,escapeshellarg,escapeshellcmd,fileinode,highlight_file,max_execution_time,passthru,pclose,phpinfo,popen,proc_close,proc_open,proc_get_status,proc_nice,proc_open,proc_terminate,set_time_limit,shell_exec,show_source,system,serialize,unserialize,__construct, __destruct, __call,__wakeup,assert'
        harden_php_memory_limit: 128M
        harden_php_include_path: '/usr/share/php'
        harden_php_session_use_strict_mode: 1
        harden_php_session_cookie_secure: true
        harden_php_session_cookie_httponly: true
        harden_php7_snuffleupagus: true

      hosts:
        ns1_beg:
        ns2_beg:

###
# Nginx
###
    nginx:
      vars:
        nginx_remove_default_site: true
        nginx_ssl_protocols: "TLSv1.2"
        nginx_set_cookie_flag: "* HttpOnly secure"
        nginx_ssl_prefer_server_ciphers: "on"
        nginx_ssl_ciphers: "ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256"
        nginx_ssl_session_tickets: "off"                
      hosts:
        ns1e:
        ns2e:

###
# MySQL Databases
###
    mysqldb:
      vars:
        mysql_hardening_enabled: true
        mysql_daemon_enabled: true
        mysql_hardening_restart_mysql: true
        mysql_hardening_user: 'mysql'
        mysql_root_password: 'LS22MySQL&MariaDB'
        mysql_remove_remote_root: true
        mysql_remove_anonymous_users: true
        mysql_remove_test_database: true
        mysql_hardening_skip_show_database: true # @see http://dev.mysql.com/doc/refman/5.7/en/server-options.html#option_mysqld_skip-show-database
        mysql_hardening_skip_grant_tables: false # @see https://dev.mysql.com/doc/refman/5.7/en/server-options.html#option_mysqld_skip-grant-tables
        mysql_hardening_options:
          safe-user-create: 1
          secure-auth: 1
          skip-symbolic-links: 1
          local-infile: 0 #  @see http://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar-local-infile
          allow-suspicious-udfs: 0 # @see https://dev.mysql.com/doc/refman/5.7/en/server-options.html#option-mysqld-allow-suspicious-udfs
          automatic-sp-privileges: 0 # @see https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar-automatic-sp-privileges
          secure-file-priv: '/tmp'
      children:
# MySQL
        mysql:
          hosts:
            ns1e:
            ns2e:
# MariaDB
        mariadb:
          hosts:
            5gcn-db
            
###
# Docker hosts
###
    docker:
      hosts:
        k8s_worker1_beg:
        k8s_worker2_beg:
        k8s_worker3_beg:
        ubu1:
